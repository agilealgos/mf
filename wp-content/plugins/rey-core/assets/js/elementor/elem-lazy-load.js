!function(e){"use strict";var t=function(t,i){var n=this;this.init=function(){if(this.$scope=t,this.hasLoaded=!1,this.$scope.is("[data-lazy-load]")&&(this.config=JSON.parse(this.$scope.attr("data-lazy-load")||"{}"),this.config.element_id&&this.config.qid))return i?this.handleLazy():void("scroll"===this.config.trigger?this.handleScroll():"click"===this.config.trigger&&this.config.trigger__click&&""!==this.config.trigger__click?this.handleClick():"mega-menu"===this.config.trigger&&this.handleMega())},this.handleScroll=function(){rey.frontend.inView({target:this.$scope,once:!0,offset:.25,cb:function(){n.hasLoaded||(n.config.from="scroll",n.handleLazy(),n.hasLoaded=!0)}})},this._validateQuery=function(e){try{return document.querySelector(e),!0}catch(e){console.log(e)}return!1},this.handleClick=function(){this._validateQuery(this.config.trigger__click)&&e(document).on("click",this.config.trigger__click,(function(){n.hasLoaded||(n.config.from="click",n.handleLazy(),n.hasLoaded=!0)}))},this.handleMega=function(){var t=this.$scope.closest(".rey-mainNavigation--desktop .rey-mega-gs");if(t.length){var i,o=t.closest(".menu-item.depth--0.--is-mega");e(o).on("mouseenter",(function(){n.hasLoaded||(i=setTimeout((function(){n.config.from="mega",n.handleLazy(),n.hasLoaded=!0}),200))})).on("mouseleave",(function(e){clearTimeout(i)}))}},this.handleLazy=function(){var t={element_id:this.config.element_id,qid:this.config.qid,pid:this.config.pid,options:this.config.options,cache:this.config.cache,refresh:!!i};rey.ajax.request("element_lazy",{data:t,ss:"element_lazy_"+this.config.element_id,params:{cache:!1},cb:function(t){if(t.success)if(t.data){n.$scope.replaceWith(e(t.data));var i=e(".elementor-element-"+n.config.element_id);if(i.length){var o=i.attr("data-widget_type");elementorFrontend.hooks.doAction("frontend/element_ready/"+o,i,e),rey.hooks.doAction("elementor/element/lazy_loaded",i,n.config,o),t.after_data&&e(t.after_data).appendTo(i)}}else console.log("Empty element data.")}})},this.init()};rey.hooks.addAction("elementor/init",(function(i){e(".elementor-element[data-lazy-load]").each((function(i,n){new t(e(n))}))})),e(document).on("reycore/elementor/element/lazy_load",(function(e,i){new t(i,!0)}))}(jQuery);