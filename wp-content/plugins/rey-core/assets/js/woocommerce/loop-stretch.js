!function(t){"use strict";var e=function(t){var e=this;this.init=function(){rey.vars.is_desktop&&(this.product=t,this.product.closest(".--prevent-colspan")||(this.image=this.product.querySelector(".rey-thumbImg"),this.image&&(e.image.hasAttribute("src")?e.run():e.image.addEventListener("load",(function(){e.run()})),this.grid=this.product.closest("ul.products"),this.getParentWidth(),this.events())))},this.events=function(){window.addEventListener("resize",rey.util.debounce((function(){e.getParentWidth()}),500)),rey.hooks.addAction("view_selector/load",(function(){e.getParentWidth()})),rey.hooks.addAction("view_selector/change_cols",(function(){e.getParentWidth()}))},this.getParentWidth=function(){this.grid&&this.product.style.setProperty("--grid-width",this.grid.offsetWidth+"px")},this.run=function(){var t=new Image;t.src=this.image.getAttribute("src"),t.addEventListener("load",(function(){e.product.style.setProperty("--aspect-ratio",(this.naturalHeight||1)/(this.naturalWidth||1)||1)}))},this.init()};document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("li.product[data-colspan]").forEach((t=>{new e(t)}))})),rey.hooks.addAction("product/loaded",(function(t){t.forEach((t=>{t.hasAttribute("data-colspan")&&new e(t)}))})),rey.hooks.addAction("ajaxfilters/finished",(function(t){t.querySelectorAll("li.product[data-colspan]").forEach((t=>{new e(t)}))})),rey.hooks.addAction("elementor/init",(function(t){t.registerElement({name:"reycore-product-grid.default",cb:function(t,i){t[0].querySelectorAll("li.product[data-colspan]").forEach((t=>{new e(t)}))}})}))}(jQuery);