!function(t){"use strict";var e=function(){var e=this;return this.init=function(){this.genericHtml(),this.canShip(),this.passVisibility(),this.overrideSelect2Defaults(),this.modifyQuantityNumberField(),this.cleanupNoMargin(),this.events(),rey.hooks.doAction("woocommerce/init",this)},this.events=function(){rey.hooks.addAction("product/loaded",(function(t){t.length&&(rey.hooks.doAction("refresh_general_html",t),rey.hooks.doAction("animate_items",t),e.modifyQuantityLoop(t),e.modifyQuantityNumberField(t))})),rey.jquery.addEventListener("rey/product/loaded",(function(t,e){e.length&&rey.hooks.doAction("product/loaded",rey.dom.normalizeCollection(e))})),t(document).on("click",".woocommerce-store-notice__dismiss-link",(function(){window.dispatchEvent(new Event("rey/refresh_header"))})),t(document).on("click",".rey-toggleCoupon-btn",(function(e){e.preventDefault();var n=t(this).next(".rey-toggleCoupon-content");n.toggleClass("--visible"),t('input[type="text"]',n).focus()})),t(document).on("change keydown","input.qty[max]",(function(e){var n=t(this),o=parseFloat(n.attr("max")||0);o&&parseFloat(n.val())>o&&n.val(o)})),rey.hooks.addAction("ajax_variation_popup/after_open",(function(t){e.modifyQuantityNumberField(t.data)})),t(document).on("reycore/after_quickview",(function(t,n){e.modifyQuantityNumberField(n)})),t(document.body).on("added_to_cart removed_from_cart wc_fragments_refreshed updated_wc_div wc_fragments_loaded",(function(t){e.modifyQuantityNumberField()}));var n=function(){document.body.dispatchEvent(new Event("jetpack-lazy-images-load"))};rey.hooks.addAction("minicart/opened",n),rey.hooks.addAction("minicart/tab",n),rey.hooks.addAction("ajaxfilters/finished",(function(){n()})),rey.hooks.addAction("product/loaded",(function(t){n()})),t(document).on("rey/woocommerce/product/rendered",(function(t){console.log(t.detail.node)}))},this.genericHtml=function(){},this.canShip=function(){var t=document.querySelector(".rey-canShip");if(t){var e;rey.frontend.inView({target:t,once:!0,cb:function(){e||(rey.ajax.request("get_shipping_status",{ss:!0,data:{text:t.getAttribute("data-text"),no_text:t.getAttribute("data-no-text")},params:{cache:!1},cb:function(e){e.data&&(t.innerHTML=e.data)}}),e=!0)}})}},this.passVisibility=function(){var e=t('input[type="password"].--suports-visibility, #customer_login .woocommerce-Input[type="password"]');e.length&&e.each((function(e,n){var o=t(n);o.wrap('<span class="__passVisibility-wrapper" />'),t('<span class="__passVisibility-toggle">'+rey.frontend.svgIcon.get("eye")+"</span>").insertAfter(o).on("click",(function(t){o.parent().toggleClass("--text"),o.attr("type",(function(t,e){return"password"==e?"text":"password"}))}))}))},this.overrideSelect2Defaults=function(){rey.params.js_params.select2_overrides&&(void 0!==t.fn.select2&&t.fn.select2.defaults&&t.fn.select2.defaults.hasOwnProperty("set")&&(t.fn.select2.defaults.set("containerCssClass","select2-reyStyles"),t.fn.select2.defaults.set("dropdownCssClass","select2-reyStyles")),void 0!==t.fn.selectWoo&&t.fn.selectWoo.defaults&&t.fn.selectWoo.defaults.hasOwnProperty("set")&&(t.fn.selectWoo.defaults.set("containerCssClass","select2-reyStyles"),t.fn.selectWoo.defaults.set("dropdownCssClass","select2-reyStyles")))},this.modifyQuantityNumberField=function(e){t(".rey-qtyField.cartBtnQty-controls input",e||document).addClass("--prevent-focus").attr("type","text")},this.modifyQuantityLoop=function(e){t(".rey-loopQty input.qty:not(.product-quantity input.qty)",e).each((function(){var e=parseFloat(t(this).attr("min"));e>=0&&parseFloat(t(this).val())<e&&t(this).val(e)}))},this.cleanupNoMargin=function(){t("ul.products.--no-margins").each((function(){var e=t(this);e.next("div[data-colspans]").length&&e.removeClass("--no-margins")}))},this.init()};t(document).ready((function(){rey&&(rey.woocommerce=new e)}))}(jQuery);