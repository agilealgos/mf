!function(e){"use strict";e.reySplide=function(t){return new function(t){var i=this;this.init=function(){return"undefined"==typeof Splide?(console.log("Splide undefined."),void rey.params.debug):(this.args=e.extend({element:!1,config:{},trigger:!0,mount:!0,delay:!1,markup:{},customArrows:!1,createArrows:!1,customPagination:!1,animateHeight:!1,offset:{}},t),this.args.element&&!e.isEmptyObject(this.args.config)?this.args.delay?void setTimeout((function(){return i.makeSlider()}),parseInt(this.args.delay)):this.makeSlider():void 0)},this.makeSlider=function(){return this.$element=e(this.args.element),this.$slides=e(".splide__slide",this.$element),this.handleConfig(),this.handleOffsets(),this.handleMarkup(),this.slider=new Splide(this.getSelector(),rey.hooks.applyFilters("reycore/sliders",this.args.config,this)),this.handleCustomPagination(),this.handleArrows(),this.animateHeight(),void 0!==this.args.cb&&this.args.cb(this.slider),this.args.trigger&&this.$element.trigger("rey/splide",[this.slider]),this.slider.on("mounted",(function(){rey.hooks.doAction("slider/mounted",i)})),this.args.mount&&this.slider.mount(),this.slider},this.handleConfig=function(){void 0===this.args.config.direction&&(this.args.config.direction=e("body.rtl").length?"rtl":"ltr"),rey.vars.elementor_edit_mode&&(this.args.config.type="slide"),void 0===this.args.config.pagination&&(this.args.config.pagination=!1),this.args.config.reducedMotion=!1},this.getSelector=function(){var t=this.$element[0];if(rey&&rey.vars.elementor_edit_mode){var i=this.$element.closest("[data-id]").attr("data-id")||"";if(!i)return t;t='.elementor-element[data-id="'+i+'"] .splide',this.$element=e(t)}return t},this.handleOffsets=function(){if(!e.isEmptyObject(this.args.offset)){var t={ltr:"right",rtl:"left"};this.args.config.padding={},rey.vars.is_desktop&&this.args.offset.desktop?this.args.config.padding[t[this.args.config.direction]]=this.args.offset.desktop+"px":rey.vars.is_tablet&&this.args.offset.tablet?this.args.config.padding[t[this.args.config.direction]]=this.args.offset.tablet+"px":rey.vars.is_mobile&&this.args.offset.mobile&&(this.args.config.padding[t[this.args.config.direction]]=this.args.offset.mobile+"px")}},this.animateHeight=function(){if(this.args.animateHeight&&this.$element.length){var e=this.$element[0].querySelector(".splide__list");e.classList.add("--auto-height");var t=function(t){var s=`.splide__slide:nth-child(${t||1})`,r=i.slider.root.querySelector(`${s} img, ${s} picture`);if(r)r.addEventListener("load",(function(t){e.style.height=this.naturalHeight||1}));else{var a=i.slider.root.querySelector(s);a&&(a.style.height=a.offsetHeight)}};this.slider.on("mounted",(function(){t(0)})),this.slider.on("move",(function(e){t(e)}))}},this.handleArrows=function(){if(this.args.createArrows){var t=rey.frontend.svgIcon.getArrows();if(t){var s=this,r="",a="",n=this.$element;a+=t.prev,a+=t.next,"object"==typeof this.args.createArrows&&(r+=this.args.createArrows.navSelector,void 0!==this.args.createArrows.extra&&(a+=this.args.createArrows.extra),void 0!==this.args.createArrows.appendTo&&(n=this.args.createArrows.appendTo));var o=e('<div class="__arrows '+r+' ">'+a+"</div>").appendTo(n),d=e(".rey-arrowSvg--left",o),l=e(".rey-arrowSvg--right",o);d.on("click",(function(e){e.preventDefault(),s.slider.go("<")})),l.on("click",(function(e){e.preventDefault(),s.slider.go(">")})),i.slider.on("moved",(function(t){"loop"!==i.slider.options.type&&(e(".rey-arrowSvg",o).removeClass("is-disabled"),0===t?d.addClass("is-disabled"):i.slider.length===t+1&&l.addClass("is-disabled"))}))}}else if(this.args.customArrows){var h=e(this.getSelectorDot(this.args.customArrows));if(h.length){var g=e("[data-dir]",h);g.on("click",(function(t){t.preventDefault(),i.slider.go(e(this).attr("data-dir"))})),i.slider.on("moved",(function(t){"loop"!==i.slider.options.type&&(g.removeClass("is-disabled"),0===t?e('[data-dir="<"]',h).addClass("is-disabled"):i.slider.length===t+1&&e('[data-dir=">"]',h).addClass("is-disabled"))}))}}},this.handleCustomPagination=function(){if(this.args.customPagination){var t=e(this.getSelectorDot(this.args.customPagination));t.length&&(this.args.config.pagination=!1,this.connectPagination(t,this.slider))}},this.getSelectorDot=function(e){var t=".";return 0===e.indexOf(".")&&(t=""),t+e},this.connectPagination=function(t,i){var s=e("[data-go]",t);s.on("click",(function(t){t.preventDefault(),s.removeClass("is-active"),e(this).addClass("is-active"),i.go(parseInt(e(this).attr("data-go")))})),i.on("mounted",(function(e){s.eq(i.index).addClass("is-active")})),i.on("move",(function(i){s.removeClass("is-active"),e('[data-go="'+i+'"]',t).addClass("is-active")})),t.addClass("is-visible")},this.handleMarkup=function(){if(!e.isEmptyObject(this.args.markup)){var t=e.extend({selector:""},this.args.markup);this.$element.children().addClass("splide__slide"),this.$element.addClass("splide__list").wrap('<div class="splide '+t.selector+'"><div class="splide__track"></div></div>'),this.$element.removeClass("--splide-markup"),this.$element=this.$element.closest(".splide")}},this.init()}(t)}}(jQuery);