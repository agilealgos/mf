!function(e){"use strict";var t={isOpen:!1,class:"is-opened",button:null,searchLogo:[],init:function(){if(this.searchPanel=this.getPanel(),this.searchPanel)return this.searchField=this.searchPanel.querySelector("input[type='search']"),this.panelStyle=this.searchPanel.getAttribute("data-style"),this.sideSetup(),this.wideSetup(),this},getPanel:function(){return document.getElementById("rey-searchPanel")},sideSetup:function(){if("side"===this.panelStyle){var e={name:"search-panel",trigger:".js-rey-headerSearch-toggle",panel:this.searchPanel,extraBodyClass:["search-panel--active","search-panel--side"],onOpen:this.openSide};rey.components.sidePanel(e)}},openSide:function(){rey.frontend.inView({target:t.searchField,cb:function(){t.searchField.focus()},once:!0})},closeSide:function(e){},wideSetup:function(){if("wide"===this.panelStyle){document.querySelectorAll(".js-rey-headerSearch-toggle").forEach((e=>{e.addEventListener("click",(function(e){if(e.preventDefault(),!rey.vars.is_global_section_mode){if(t.button=e.currentTarget,t.sticky=t.button.closest('.rey-stickyContent[data-align="top"]'),t.headerSource=rey.elements.header,t.sticky){var s=rey.dom.children(t.sticky,".elementor");s.length&&(t.headerSource=s[0])}if(t.headerSource&&(t.searchLogo=t.headerSource.querySelectorAll("img.custom-logo[data-search-logo]")),t.isOpen)return t.closeWide();t.openWide()}}))}));var e=document.querySelector(".rey-searchPanel-wideOverlay");e&&e.addEventListener("click",(function(e){e.preventDefault(),t.isOpen&&t.closeWide()})),e&&document.addEventListener("keyup",(function(e){t.isOpen&&27==e.keyCode&&t.closeWide()})),rey.hooks.addAction("minicart/opened",(function(){t.isOpen&&t.closeWide()}))}},openWide:function(){this.isOpen||(this.isOpen=!0,this.startToggler())},startToggler:function(){this.__startedToggler?this.toggleWide(!0):(this.searchPanel.classList.remove("--hidden"),setTimeout((()=>{this.toggleWide(!0)}),50),this.__startedToggler=!0)},toggleWide:function(e){this.button.classList.toggle(this.class,e),t.searchPanel.classList.toggle("--is-open",e),rey.elements.body.classList.toggle("search-panel--active",e),rey.elements.body.classList.toggle("search-panel--wide",e),e?(this.button&&this.searchLogo.length&&this.searchLogo.forEach((e=>{e.setAttribute("data-initial-src",e.getAttribute("src")),e.setAttribute("src",e.getAttribute("data-search-logo")),e.setAttribute("srcset","")})),rey.frontend.inView({target:t.searchField,cb:function(){t.searchField.focus()},once:!0})):(this.button&&this.searchLogo.length&&this.searchLogo.forEach((e=>{var t=e.getAttribute("data-initial-src");t&&(e.setAttribute("src",t),e.setAttribute("srcset",""))})),setTimeout((function(){rey.elements.body.classList.remove("--overlay-under-header")}),300))},closeWide:function(){this.isOpen&&(this.isOpen=!1,this.toggleWide(!1))}};e(document).ready((function(){rey.components.searchPanel=t.init()}))}(jQuery);