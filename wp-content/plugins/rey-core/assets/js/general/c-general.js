!function(t){"use strict";var e=function(){var e=this;this.init=function(){this.firstInteraction(),this.misc(),this.markTop(),this.dirAware(),this.doTooltips(),this.doSidePanels(),this.doCachedMenus(),this.events(),rey.hooks.doAction("reycore/init",this)},this.events=function(){document.querySelectorAll('.js-scroll-to[data-target^="#"], .js-scroll-to[href^="#"], .js-scroll-to > a[href^="#"], .--scrollto > a[href^="#"]').forEach((t=>{t.addEventListener("click",(t=>{t.preventDefault();var e=t.currentTarget.getAttribute("data-target")||t.currentTarget.getAttribute("href")||"";if(e){var i=document.querySelector(e);if(i){var s=rey.dom.offset(i).top;rey.elements.header&&rey.elements.header.classList.contains("header-pos--fixed")&&(s-=rey.elements.header.outerHeight),s-=50,isNaN(s)||window.scrollTo({top:s,behavior:"smooth"})}}}))})),t(document).on("click","a.js-back-button, .js-back-button a",(function(t){t.preventDefault(),window.history.back()})),t(document).on("click",".rey-postSocialShare a[data-share-props]",(function(e){e.preventDefault();var i=JSON.parse(t(this).attr("data-share-props")||"{}");window.open(t(this).attr("href"),i.name||"",i.size||"width=550,height=550")})),window.addEventListener("scroll",rey.util.debounce(this.markTop,200)),rey.hooks.addAction("reycore/ajax_response",(function(t,e){e.data&&"undefined"!=typeof SimpleScrollbar&&SimpleScrollbar.initAll()}))},this.firstInteraction=function(t){["mousemove","scroll","keydown","click","touchstart"].forEach((t=>{document.body.addEventListener(t,rey.util.debounce((function(t){rey.___.firstInteractionHappened||(rey.___.firstInteractionHappened=!0,e.lazyStyleSheets(),rey.hooks.doAction("first_interaction",t))}),300),{once:!0})}))},this.lazyStyleSheets=function(){var t=document.querySelectorAll(`link[${rey.params.lazy_attribute}]`);if(t.length){var e=0;t.forEach(((i,s)=>{var n=function(i){t.length-1===e&&(rey.___.lazyStylesheets=!0),e++};i.onload=n,i.onerror=n,i.setAttribute("href",i.getAttribute(rey.params.lazy_attribute))}))}else rey.___.lazyStylesheets=!0},this.misc=function(){document.querySelectorAll(rey.params.check_for_empty).forEach((t=>{t.children.length||t.classList.add("--empty")}))},this.markTop=function(){rey.elements.body.classList.toggle("--at-top",!(window.pageYOffset||document.documentElement.scrollTop)>0)},this.dirAware=function(){var t=0;if(rey.params.core.js_params.dir_aware){var e=function(){var e=window.pageYOffset||document.documentElement.scrollTop;e>t?rey.elements.body.setAttribute("data-direction","down"):rey.elements.body.setAttribute("data-direction","up"),t=e<=0?0:e};window.addEventListener("scroll",rey.util.debounce(e,rey.params.core.js_params.sticky_debounce)),e()}},this.doTooltips=function(){var t=function(t){var e=this;this.inCarousel=!1,this.horizontalRange=.5,this.largeRange=.85,this.smallRange=.15,rey.vars.is_desktop||(this.largeRange=.75,this.smallRange=.25),this.init=function(){this.item=t,this.item.getAttribute("data-rey-tooltip-id")||(this.item.removeAttribute("title"),this.item.closest(".splide")&&(this.inCarousel=!0),this.createID(),this.createHolder(),this.setInitialProperties(),this.events(),this.show())},this.createID=function(){var t=this.item.getAttribute("data-tooltip-id");if(t)return t;void 0===rey.___.tooltips&&(rey.___.tooltips=0),rey.___.tooltips+=1,this.item.setAttribute("data-rey-tooltip-id",rey.___.tooltips),this.id=rey.___.tooltips},this.createHolder=function(){var t=document.createElement("div");t.classList.add("rey-tooltip-el"),t.setAttribute("data-rey-tooltip-id",this.id),document.body.appendChild(t),this.holder=t;var e=this.item.getAttribute("data-tooltip-size");e&&this.holder.style.setProperty("--size",e+"px"),this.setText()},this.setProperties=function(){var t=rey.dom.offset(this.item),e={top:t.top,left:t.left,height:this.holder.offsetHeight,"el-width":this.item.offsetWidth,"el-height":this.item.offsetHeight},i=t.left/(document.body.offsetWidth||window.outerWidth);i>this.largeRange?this.horizontalRange=.9:i<this.smallRange&&(this.horizontalRange=.1),e["el-h"]=this.horizontalRange,rey.dom.setProperties(e,this.holder)},this.setInitialProperties=function(){this.setProperties(),setTimeout((()=>{}),2e3)},this.events=function(){var t;this.item.addEventListener("mouseenter",(function(i){t=setTimeout((()=>{e.show()}),50)})),this.item.addEventListener("mouseleave",(function(i){e.hide(),clearTimeout(t)})),window.addEventListener("resize",rey.util.debounce((function(){e.setProperties()}),500))},this.setText=function(){this.holder.textContent=this.item.getAttribute("data-rey-tooltip")},this.hide=function(){this.holder.classList.remove("--visible")},this.show=function(){this.setText(),this.holder.classList.add("--visible"),this.inCarousel&&this.setProperties()},this.init()},e=function(e){(e=e||document).querySelectorAll("[data-rey-tooltip]").forEach((e=>{e.addEventListener("mouseenter",(function(){new t(e)}),{once:!0})}))};e(),rey.hooks.addAction("ajaxfilters/finished",(function(t){e(t)})),rey.hooks.addAction("product/loaded",(function(t){t.forEach((t=>{e(t)}))})),rey.jquery.addEventListener("updated_checkout",(function(t,i){e()}))},this.doSidePanels=function(){var t=function(t){var e=this;this.isOpen,this.closeButton,this.init=function(){if(this.config=Object.assign({name:"sidepanel",panel:"",trigger:"",manualOpen:!1,onInit:function(){},onUpdate:function(){},onOpen:function(){},onOpened:function(){},onClose:function(){},onClosed:function(){},closeBtn:!0,closeText:"",alignment:"right",bodyClass:"--side-panel-active",extraBodyClass:"",elOpenClass:"--is-open",elOpenedClass:"--is-opened",animateSite:!1,disableScroll:!0},t||{}),this.panel=this.config.panel,this.trigger=this.config.trigger,rey.validation.isString(this.panel)&&(this.panel=document.querySelector(this.panel)),rey.validation.isString(this.trigger)&&(this.trigger=document.querySelectorAll(this.trigger)),this.panel&&this.trigger){if(this.panel.hasAttribute("data-sidepanel")){var i=JSON.parse(this.panel.getAttribute("data-sidepanel")||"{}");rey.validation.isEmptyObject(i)||Object.keys(i).forEach((t=>{e.config[t]=i[t]}))}return this.alignment=this.panel.getAttribute("data-align")||this.config.alignment,this.ensurePanel(),this.addCloseButton(),this.triggerEvent(),this.config.onInit.call(this),this}},this.update=function(t){t&&t.call(this),this.triggerEvent(),this.ensurePanel(),this.config.onUpdate.call(this)},this.triggerEvent=function(){this.config.manualOpen||(rey.validation.isNodeList(this.trigger)?this.trigger.forEach((t=>{e.handleTriggerEvent(t)})):this.handleTriggerEvent(this.trigger))},this.handleTriggerEvent=function(t){t&&t.addEventListener("click",(function(t){if(t.preventDefault(),e.isOpen)return e.close();e.open()}))},this.ensurePanel=function(){this.panel.classList.contains("rey-sidePanel")||this.panel.classList.add("rey-sidePanel")},this.addCloseButton=function(){if(this.config.closeBtn&&!this.panel.querySelector(".rey-sidePanel-close")){var t=this.panel.children[0];rey.validation.isString(this.config.closeBtn)&&(t=this.panel.querySelector(this.config.closeBtn));var i=rey.frontend.svgIcon.get("close");i+=rey.frontend.svgIcon.get("arrow-classic");var s=document.createElement("button");s.classList.add("btn","__arrClose","rey-sidePanel-close","--lz-invisible"),s.setAttribute("aria-label",rey.params.core.js_params.panel_close_text);var n=`<span class="__icons">${i}</span>`;this.config.closeText&&(n=`<span class="__close-text">${this.config.closeText}</span>`+n),s.innerHTML=n,t.appendChild(s),s.addEventListener("click",(function(t){t.preventDefault(),e.close()})),this.closeButton=s}},this.open=function(){this.isOpen||(this.__isBlock||(this.panel.style.display="block",this.__isBlock=!0),this.transitionDuration||(this.transitionDuration=rey.dom.getNumberProperty(this.panel,"--transition-duration",400)),this.config.onOpen.call(this),rey.frontend.panels.init(this.close.bind(this)),rey.frontend.overlay.open("site"),this.config.disableScroll&&rey.frontend.scroll.disable(),requestAnimationFrame((function(){e.toggleClasses(!0)})),this.isOpen=!0)},this.close=function(){this.isOpen&&(this.config.onClose.call(this),rey.frontend.panels.reset(),rey.frontend.overlay.close(),this.config.disableScroll&&rey.frontend.scroll.enable(),requestAnimationFrame((function(){e.toggleClasses(!1)})),this.isOpen=!1)},this.toggleClasses=function(t){rey.elements.body.classList.toggle(this.config.bodyClass,t),rey.elements.body.classList.toggle(`${this.config.bodyClass}--${this.alignment}`,t),this.config.extraBodyClass&&(rey.validation.isArray(this.config.extraBodyClass)?rey.elements.body.classList.toggle(...this.config.extraBodyClass,t):rey.elements.body.classList.toggle(this.config.extraBodyClass,t)),this.panel.classList.toggle(this.config.elOpenClass,t),rey.validation.isNodeList(this.trigger)?this.trigger.forEach((i=>{i&&i.classList.toggle(e.config.elOpenClass,t)})):this.trigger&&this.trigger.classList.toggle(this.config.elOpenClass,t),this.config.animateSite&&rey.elements.body.classList.toggle("--side-animated",t),setTimeout((()=>{e.onTransitionEnd()}),this.transitionDuration),rey.hooks.doAction("toggle_sidepanel",t,e)},this.onTransitionEnd=function(){this.isOpen?(this.config.onOpened.call(this),this.panel.classList.add(this.config.elOpenedClass)):(this.config.onClosed.call(this),this.panel.classList.remove(this.config.elOpenedClass))},this.init()};rey.components.sidePanel=function(){return new t(...arguments)}},this.doCachedMenus=function(){document.querySelectorAll('ul[data-menu-qid]:not([data-menu-qid=""])').forEach((t=>{t.querySelectorAll(".o-id-"+t.getAttribute("data-menu-qid")).forEach((t=>{rey.dom.parents(t,".current-menu-ancestor").forEach((t=>{t.classList.add("current-menu-item")})),t.classList.add("current-menu-item")}))}))},this.init()};t(document).ready((function(){rey.core=new e}))}(jQuery);