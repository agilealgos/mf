!function(o,e,t){"use strict";var c={init:function(o,e){return"undefined"!=typeof wc_cart_params&&(void 0!==e.fn.block&&(this.page_selector=".rey-cartPage.--layout-custom",this.$page=e(this.page_selector,o),this.$form=e(".woocommerce-cart-form",this.$page),this.$totals=e(".cart_totals",this.$page),this.events(),this.move_coupon(),void this.sticky_totals()))},events:function(){var e=this;o(document).on("click",this.page_selector+' button[name="apply_coupon"]',(function(o){o.preventDefault(),e.apply_coupon()})),o(document.body).on("updated_wc_div updated_shipping_method applied_coupon removed_coupon country_to_state_changed",(function(){e.move_coupon()}))},block:function(o){o.is(".processing")||o.parents(".processing").length||o.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},show_notice:function(e,t){t||(t=o(".woocommerce-notices-wrapper:first",this.$page)||o(".cart-empty",this.$page).closest(".woocommerce")||o(".woocommerce-cart-form",this.$page)),t.prepend(e)},apply_coupon:function(){this.block(this.$form);var e=this,t=o("#coupon_code",this.$page),c=t.val(),n={security:wc_cart_params.apply_coupon_nonce,coupon_code:c};o.ajax({type:"POST",url:wc_cart_params.wc_ajax_url.toString().replace("%%endpoint%%","apply_coupon"),data:n,dataType:"html",success:function(t){o(".woocommerce-error, .woocommerce-message, .woocommerce-info",this.$page).remove(),e.show_notice(t),o(document.body).trigger("applied_coupon",[c])},complete:function(){e.$form.removeClass("processing").unblock(),t.val(""),o(document).trigger("wc_update_cart",[!0])}})},move_coupon:function(){if(o(".woocommerce-cart-form__actions .coupon").remove(),!o(".cart_totals .coupon").length&&o("#tmpl-reycore-cart-coupon").length){var e=wp.template("reycore-cart-coupon");o(e()).insertBefore(".wc-proceed-to-checkout")}},sticky_totals:function(){rey.vars.is_desktop&&this.$page.is(".--totals-sticky")&&o(".rey-siteWrapper").addClass("--o-visible")}};rey.hooks.addAction("elementor/init",(function(o){o.registerElement({name:"reycore-wc-cart.default",cb:function(o,e){c.init(o,e)}})}))}(jQuery,window.elementorFrontend,window.elementorModules);