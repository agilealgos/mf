!function(t){"use strict";var i=function(){var i=this;this.mobileStart,this.windowHeight,this.mobileEnd,this.startPoint,this.finishPoint,this.cartTop,this.cartHeight,this.__sticked=!1,this.satcOpen=!1,this.init=function(){if(this.$productCartForm=t(".rey-siteContent form.cart"),this.$productCartForm.length||(this.$productCartForm=t(".rey-siteContent .summary.entry-summary"),this.$productCartForm.length)){if(this.$satcWrapper=t(".rey-stickyAtc"),this.$satcBtn=t(".single_add_to_cart_button",this.$satcWrapper),this.satcOpenBtn=document.querySelector(".rey-stickyAtc .rey-satc-openBtn"),this.$satc__VariationsForm=t(".variations_form",this.$satcWrapper),this.mobileFromTop=this.$satcWrapper.is("[data-mobile-from-top]"),this.$productSummary=t(".rey-productSummary"),!t('.wccf_product_field[data-wccf-quantity-based="1"]').length)return this.$satc__VariationsForm.addClass("--prevent-scroll-to-gallery"),this.events(),this;this.$satcWrapper.remove()}},this.events=function(){rey.util.imagesLoaded(this.$satcWrapper,(function(){i.getData()})),t(window).on("resize",rey.util.debounce((function(){i.getData()}),500)),t(window).on("scroll",(function(){var t,s=window.pageYOffset||document.documentElement.scrollTop;if(rey.vars.is_mobile){var e=s<=i.mobileStart-i.windowHeight,a=s>=i.mobileEnd;t=i.mobileFromTop&&e||a}else t=s>=i.startPoint,i.finishPoint&&(t=s>=i.startPoint&&s<i.finishPoint);t?i.__sticked||(i.$satcWrapper.addClass("--visible"),i.__sticked=!0):i.__sticked&&(i.$satcWrapper.removeClass("--visible"),i.satcOpenBtn&&i.satcOpenBtn.classList.remove("--visible"),i.__sticked=!1)})).trigger("scroll"),this.satcOpenBtn&&this.satcOpenBtn.addEventListener("click",(function(t){if(t.preventDefault(),i.satcOpen)return i.close();i.open()})),t(document.body).on("added_to_cart",(function(t,s,e,a){i.close()})),t("table.variations select",this.$productCartForm).on("change",(function(s){i.syncVariations(t(this),i.$satc__VariationsForm)})),t("table.variations select",this.$satc__VariationsForm).on("change",(function(s){i.syncVariations(t(this),i.$productCartForm)})),t(".qty",this.$satc__VariationsForm).on("change",(function(s){t(".qty",i.$productCartForm).val(t(this).val())})),t(".qty",this.$productCartForm).on("change",(function(s){t(".qty",i.$satc__VariationsForm).val(t(this).val())}))},this.open=function(){this.satcOpen||(rey.frontend.panels.init(this.close.bind(this)),rey.frontend.overlay.open("site"),this.satcOpenBtn&&this.satcOpenBtn.classList.add("--visible"),this.satcOpen=!0)},this.close=function(){this.satcOpen&&(this.satcOpen=!1,rey.frontend.panels.reset(),rey.frontend.overlay.close(),this.satcOpenBtn&&this.satcOpenBtn.classList.remove("--visible"))},this.getData=function(){this.startPoint=this.getPoint("data-start-point"),this.finishPoint=this.getPoint("data-finish-point"),!1===this.startPoint&&(this.cartTop=this.$productCartForm.offset().top,this.cartHeight=this.$productCartForm.height(),rey.elements.body.classList.contains("--fixed-summary")&&this.$productSummary.length?this.startPoint=this.$productSummary.height()-400:this.startPoint=this.cartTop+this.cartHeight),this.windowHeight=t(window).height(),this.mobileStart=this.$productCartForm.offset().top,this.mobileEnd=this.$productCartForm.offset().top+this.$productCartForm.height()},this.getPoint=function(i){i=i||"data-finish-point";var s=!1,e=this.$satcWrapper.attr(i)||"";if(""!==e)if(isNaN(e)){var a=t(e);a.length&&(s=a.offset().top-a.height())}else s=parseInt(e);return!1!==s&&s},this.syncVariations=function(i,s){var e=i.attr("data-attribute_name"),a=i.val();t('[data-attribute_name="'+e+'"]',s).val(a),t('.variable-items-wrapper[data-attribute_name="'+e+'"] .variable-item',s).removeClass("selected"),t('.variable-items-wrapper[data-attribute_name="'+e+'"] .variable-item[data-value="'+a+'"]',s).addClass("selected"),t('.rey-swatchList[data-attribute_name="'+e+'"] .rey-swatchList-item',s).removeClass("--selected"),t('.rey-swatchList[data-attribute_name="'+e+'"] .rey-swatchList-item[data-term-slug="'+a+'"]',s).addClass("--selected")},this.init()};t(document).ready((function(){new i}))}(jQuery);