!function(e){"use strict";var t=!1,i={},n={init:function(e){if(!t)return t=!0,n.scope=e||document,n.lazyLoad(),n.adjustWidths(),n.megaMenuGs(),rey.vars.elementor_edit_mode&&rey.elementor&&rey.elementor._makeHeaderZindex(),n;rey.vars.elementor_edit_mode&&Object.keys(i).forEach((t=>{var n=i[t];(e.length?e[0]:e).querySelectorAll(t).forEach((e=>{e.querySelectorAll("ul.sub-menu").forEach((e=>{e.remove()})),e.append(n)}))}))},lazyLoad:function(){var t={},i={},n={},s=function(s){var a=this;this.init=function(){this.$item=e(s),this.$menuItem=this.$item.parent(".menu-item"),this.isMobileNav=this.$menuItem.closest(".rey-mainMenu").hasClass("rey-mainMenu-mobile"),this.config=JSON.parse(this.$item.attr("data-lazy-config")),e.isEmptyObject(this.config)||(this.id=this.config.mid,this.lazyType=this.isMobileNav?"yes_mo":this.config.lazy_type,this.lazyTypeEvent=this.isMobileNav?"click touchstart":"mouseenter",this.addLoaderIndicator(),this.events())},this.events=function(){"yes_mo"===this.lazyType?this.$menuItem.one(this.lazyTypeEvent,(function(e){n[a.id]=!0,a.$menuItem.addClass("--loading"),a.makeRequest()})).one("mouseleave",(function(e){n[a.id]&&(n[a.id]=!1)})):"yes_pm"===this.lazyType?(this.$menuItem.one(this.lazyTypeEvent,(function(e){n[a.id]=!0,t[a.id]||a.$menuItem.addClass("--loading")})).one("mouseleave",(function(e){n[a.id]&&(n[a.id]=!1)})),this.$item.closest(".rey-mainNavigation").one("mouseenter",(function(e){a.makeRequest()}))):"yes_pl"===this.lazyType&&rey.hooks.addAction("first_interaction",(function(){setTimeout((function(){a.makeRequest()}),1e3)}))},this.addLoaderIndicator=function(){var t=this.$menuItem;this.isMobileNav&&(t=e(" > a",this.$menuItem)),e('<i class="__mmloader --lz-invisible"></i>').appendTo(t)},this.makeRequest=function(){t[this.id]?this.appendData(t[this.id]):i[this.id]?setTimeout((function(){a.makeRequest()}),300):i[this.id]=rey.ajax.request("get_megamenu",{ss:"get_megamenu_"+this.id,data:{mid:this.id},params:{cache:!1},cb:function(n){n.data&&(a.appendData(n.data),t[a.id]=n.data,e(document).trigger("reycore/elementor/content/lazy_loaded",[a.$item]),i[a.id]=!1)}})},this.appendData=function(t){this.$menuItem.removeClass("--loading"),e(t).appendTo(this.$item),"yes_pl"!==this.lazyType&&(this.openOverlay(),this.$menuItem.removeClass("--overlay-delayed")),setTimeout((function(){a.$item.addClass("--ready")}),50)},this.openOverlay=function(){if(n[this.id]){var e=rey.elements.header?"header":"site";rey.params.theme_js_params.menu_hover_overlay&&rey.frontend.overlay.open(e,{click:!1,id:"menu"})}},this.init()};e(".rey-mega-gs[data-lazy-config]").each((function(e,t){new s(t)}))},megaMenuGs:function(){(n.scope.length?n.scope[0]:n.scope).querySelectorAll(".rey-mega-gs").forEach((e=>{if(rey.vars.elementor_edit_mode&&e.closest(".rey-mainNavigation--desktop")&&(i[".rey-mainNavigation--desktop #"+e.closest(".menu-item").getAttribute("id")]=e),e.classList.contains("--disable-mega-gs-mobile")&&e.closest(".rey-mainMenu-mobile"))return e.remove();rey.dom.getSiblings(e,".sub-menu").forEach((e=>{e.remove()}))}))},adjustWidths:function(){var t=function(t){var i=this;this.init=function(){if(this.menuItem=t,this.submenus=rey.dom.children(this.menuItem,".rey-mega-gs, ul.sub-menu"),this.submenus.length&&(this.removeSubmenuIfMega(),rey.vars.is_desktop))return this.submenu=this.submenus[0],this.isBoxed=this.menuItem.classList.contains("--mega-boxed"),this.prepareBoxedContainer(),this.resizePanel(),this.events(),this},this.events=function(){window.addEventListener("resize",rey.util.debounce((function(e){i.refreshBoxedContainer(),i.resizePanel()}),500)),rey.elements.header&&(rey.elements.header.addEventListener("lazyloaded",rey.util.debounce(i.resizePanel,500)),rey.elements.header.addEventListener("reycore/header_shrink/immediate/on",rey.util.debounce(i.resizePanel,500)),rey.elements.header.addEventListener("reycore/header_shrink/immediate/off",rey.util.debounce(i.resizePanel,500))),window.addEventListener("LazyLoad::Initialized",i.resizePanel),e(document).on("rey/elementor_section/animation_complete",(function(e,t,n){var s=i.item.closest(".elementor-section.elementor-top-section, .elementor > .e-container, .elementor > .e-con");t.id==s.getAttribute("data-id")&&i.resizePanel()}))},this.resizePanel=function(){requestAnimationFrame(this._resizePanel)},this._resizePanel=function(){if(rey.params.mega_menu_use_bounding_client_rect)var e=i.menuItem.getBoundingClientRect();else e=rey.dom.offset(i.menuItem);var t=e.left;rey.vars.is_rtl&&(t=document.documentElement.clientWidth-(t+i.menuItem.offsetWidth));var n={},s="block";if(i.menuItem.classList.contains("--is-mega-cols")&&(s="flex"),i.isBoxed)n["--mm-offset"]=t+"px";else if(i.menuItem.classList.contains("--mega-full"))n["--mm-offset"]=t+"px";else if(i.menuItem.classList.contains("--mega-custom")){s="flex";var a=Math.floor(t/document.body.clientWidth*100);a<=33?n["--mm-translate-factor"]=.2:a>67&&(n["--mm-translate-factor"]=.8)}Object.keys(n).forEach((e=>{i.submenu.style.setProperty(e,n[e])})),i.submenu.style.display=s},this.prepareBoxedContainer=function(){this.isBoxed&&(this.navContainer=this.menuItem.closest(".elementor-top-section > .elementor-container:not(.--mm-container-data), .rey-siteHeader-container:not(.--mm-container-data), :is(.elementor-section-wrap, [data-elementor-id]) > .e-con > .e-con-inner"),this.navContainer&&(this.isElementorContainer=this.navContainer.classList.contains("e-con-inner"),this.refreshBoxedContainer()))},this.refreshBoxedContainer=function(){if(this.isBoxed&&this.navContainer){var e=rey.dom.offset(this.navContainer).left||0;e&&this.navContainer.style.setProperty("--mm-container",e+"px"),this.navContainer.classList.add("--mm-container-data"),this.isElementorContainer&&this.navContainer.style.setProperty("--ec-max-width",this.navContainer.offsetWidth+"px")}},this.removeSubmenuIfMega=function(){this.submenus.length>1&&this.submenus.forEach((e=>{rey.validation.matches(e,"ul.sub-menu")&&e.remove()}))},this.init()};[".rey-siteHeader .rey-mainNavigation--desktop",".rey-stickyContent .rey-mainNavigation--desktop",".rey-pbTemplate--gs-header .rey-mainNavigation--desktop",".elementor[data-elementor-type='header'] .rey-mainNavigation--desktop"].forEach((e=>{(rey.validation.isJQuery(n.scope)?n.scope[0]:n.scope).querySelectorAll(e).forEach((e=>{e.querySelectorAll(".menu-item.depth--0.--is-mega").forEach((e=>{e.addEventListener("mouseenter",(i=>{rey.util.wait.styles((function(){new t(e)}))}),{once:!0})}))}))}))}};rey.hooks.addFilter("headermenu/mobile/selectors",(function(e){return e.unshift(".rey-mega-gs"),e})),e(document).ready((function(){rey.vars.elementor_edit_mode||n.init()})),rey.hooks.addAction("elementor/init",(function(e){rey.vars.elementor_edit_mode&&e.registerElement({name:"reycore-header-navigation.default",cb:n.init})}))}(jQuery);