!function(t){"use strict";var a=function(a){var o=this;this.init=function(){this.$button=t(a),this.productId=this.$button.attr("data-id"),this.productId&&(this.$variationForm=t('form.variations_form[data-product_id="'+this.productId+'"]'),this.$variationForm.length?this.$form=this.$variationForm:this.$form=t('.single_add_to_cart_button[value="'+this.productId+'"]').closest("form.cart"),this.events())},this.events=function(){this.$button.on("click",(function(a){if(a.preventDefault(),o.$form.length){var i=t(this);if(i.hasClass("--disabled"))window.alert(i.attr("data-disabled-text"));else{var e=o.$form.serializeArray(),n={};t.map(e,(function(t,a){n[t.name]=t.value})),void 0===n.product_id&&(n.product_id=i.attr("data-id"));var r=[];t("[data-attribute_name]",o.$form).each((function(a,o){var i=t(o).attr("data-attribute_name");r.push(i)})),r.length&&(n.attr=r.filter((function(t,a){return r.indexOf(t)==a}))),i.addClass("--loading"),n.security=rey.params.ajax_nonce,t.ajax({method:"post",url:rey.params.wc_ajax_url.toString().replace("%%endpoint%%","reycore_buy_now"),cache:!1,data:n,success:function(t){t&&t.data&&t.data.checkout_url?window.location.href=t.data.checkout_url:i.removeClass("--loading")}})}}})),this.$form.on("found_variation reset_data",(function(t,a){a&&a.variation_id?o.$button.removeClass("--disabled"):o.$button.addClass("--disabled")}))},this.init()},o=function(o){t(".rey-buyNowBtn",o||document).each((function(t,o){new a(o)}))};t(document).ready((function(){o()})),rey.hooks.addAction("elementor/element/lazy_loaded",(function(t,a,i){o(t)})),t(document).on("reycore/after_quickview reycore/elementor/content/lazy_loaded ",(function(){o()})),rey.hooks.addAction("minicart/assets_ready",o)}(jQuery);