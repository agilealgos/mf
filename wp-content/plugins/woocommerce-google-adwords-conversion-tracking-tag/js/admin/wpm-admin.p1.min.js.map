{"version":3,"file":"wpm-admin.p1.min.js","mappings":"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","sources":["webpack://Pixel-Manager-for-WooCommerce/./src/js-src/admin/helpers.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/admin/script-blocker-warning.js","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/admin/tabs.js","webpack://Pixel-Manager-for-WooCommerce/webpack/bootstrap","webpack://Pixel-Manager-for-WooCommerce/./src/js-src/admin/main.js"],"sourcesContent":["jQuery(function () {\n\n\t// copy debug info textarea\n\tjQuery(\"#debug-info-button\").on(\"click\", function () {\n\t\tjQuery(\"#debug-info-textarea\").select()\n\t\tdocument.execCommand(\"copy\")\n\t})\n\n\tjQuery(\"#pmw-pro-version-demo\").on(\"click\", function () {\n\t\tjQuery(\"#submit\").trigger(\"click\")\n\t})\n\n\tdocument.getElementById(\"json-settings-file-input\")\n\t\t.addEventListener(\"change\", wpm.readSettingsFile, false)\n\n\t// if element ga4-data-api-credentials-upload-button exists, then we are on the GA4 settings page\n\tif (document.getElementById(\"ga4-data-api-credentials-upload-button\")) {\n\n\t\tdocument.getElementById(\"ga4-data-api-credentials-upload-button\")\n\t\t\t.addEventListener(\"change\", wpm.readGa4DataApiCredentials, false)\n\n\t\tdocument.getElementById(\"ga4-data-api-credentials-delete-button\")\n\t\t\t.addEventListener(\"click\", () => {\n\t\t\t\twpm.saveGa4DataApiCredentialsToDb({})\n\t\t\t}, false)\n\t}\n\n});\n\n(function (wpm, $, undefined) {\n\n\twpm.saveSettingsToDisk = (version) => {\n\t\tlet text             = document.getElementById(\"export-settings-json\").value\n\t\ttext                 = text.replace(/\\n/g, \"\\r\\n\") // To retain the Line breaks.\n\t\tlet blob             = new Blob([text], {type: \"text/plain\"})\n\t\tlet anchor           = document.createElement(\"a\")\n\t\tanchor.download      = \"pixel-manager-settings_\" + version + \"_\" + wpm.getCurrentDateForFileName() + \".json\"\n\t\tanchor.href          = window.URL.createObjectURL(blob)\n\t\tanchor.target        = \"_blank\"\n\t\tanchor.style.display = \"none\" // just to be safe!\n\t\tdocument.body.appendChild(anchor)\n\t\tanchor.click()\n\t\tdocument.body.removeChild(anchor)\n\t}\n\n\t// Get date in year month day divided by dots. Month and day have to be zero padded.\n\twpm.getCurrentDateForFileName = () => {\n\t\tlet date  = new Date()\n\t\tlet year  = date.getFullYear()\n\t\tlet month = (\"0\" + (date.getMonth() + 1)).slice(-2)\n\t\tlet day   = (\"0\" + date.getDate()).slice(-2)\n\t\treturn year + \".\" + month + \".\" + day\n\n\t\t// return date.toLocaleDateString(\n\t\t// \t\"en-US\", {\n\t\t// \t\tyear : \"numeric\",\n\t\t// \t\tmonth: \"2-digit\",\n\t\t// \t\tday  : \"2-digit\",\n\t\t// \t},\n\t\t// )\n\t}\n\n\twpm.readSettingsFile = e => {\n\n\t\tlet file = e.target.files[0]\n\t\tif (!file) return\n\t\tlet reader    = new FileReader()\n\t\treader.onload = function (e) {\n\t\t\tlet contents = JSON.parse(e.target.result)\n\n\t\t\t// document.getElementById(\"import-settings-json\").textContent = JSON.stringify(contents)\n\n\t\t\twpm.saveImportedSettingsToDb(contents)\n\t\t}\n\t\treader.readAsText(file)\n\t}\n\n\twpm.saveImportedSettingsToDb = settings => {\n\n\t\tfetch(pmwAdminApi.root + \"pmw/v1/settings/\", {\n\t\t\tmethod     : \"POST\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\theaders    : {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-WP-Nonce\"  : pmwAdminApi.nonce,\n\t\t\t},\n\t\t\tbody       : JSON.stringify(settings),\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(async message => {\n\t\t\t\tif (message.success) {\n\t\t\t\t\tconsole.log(message)\n\t\t\t\t\t// reload window\n\t\t\t\t\tdocument.getElementById(\"upload-status-success\").style.display = \"block\"\n\t\t\t\t\t// wait 5 seconds\n\t\t\t\t\tawait new Promise(resolve => setTimeout(resolve, 5000))\n\t\t\t\t\twindow.location.reload()\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(message)\n\t\t\t\t\tdocument.getElementById(\"upload-status-error\").style.display = \"block\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error)\n\t\t\t\tdocument.getElementById(\"upload-status-error\").style.display = \"block\"\n\t\t\t})\n\t}\n\n\twpm.readGa4DataApiCredentials = e => {\n\n\t\tlet file = e.target.files[0]\n\t\tif (!file) return\n\t\tlet reader    = new FileReader()\n\t\treader.onload = function (e) {\n\t\t\tlet contents = JSON.parse(e.target.result)\n\n\t\t\t// document.getElementById(\"import-settings-json\").textContent = JSON.stringify(contents)\n\n\t\t\twpm.saveGa4DataApiCredentialsToDb(contents)\n\t\t}\n\t\treader.readAsText(file)\n\t}\n\n\twpm.deleteGa4DataApiCredentials = e => {\n\t\twpm.saveGa4DataApiCredentialsToDb({})\n\t}\n\n\twpm.saveGa4DataApiCredentialsToDb = credentials => {\n\n\t\tfetch(pmwAdminApi.root + \"pmw/v1/ga4/data-api/credentials\", {\n\t\t\tmethod     : \"POST\",\n\t\t\tcredentials: \"same-origin\",\n\t\t\theaders    : {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"X-WP-Nonce\"  : pmwAdminApi.nonce,\n\t\t\t},\n\t\t\tbody       : JSON.stringify(credentials),\n\t\t})\n\t\t\t.then(response => response.json())\n\t\t\t.then(async message => {\n\t\t\t\tif (message.success) {\n\t\t\t\t\tconsole.log(message)\n\t\t\t\t\t// reload window\n\t\t\t\t\tdocument.getElementById(\"ga4-api-credentials-upload-status-success\").style.display = \"block\"\n\t\t\t\t\t// wait 5 seconds\n\t\t\t\t\t// await new Promise(resolve => setTimeout(resolve, 5000))\n\t\t\t\t\twindow.location.reload()\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(message)\n\t\t\t\t\tdocument.getElementById(\"ga4-api-credentials-upload-status-error\").style.display = \"block\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error)\n\t\t\t\tdocument.getElementById(\"ga4-api-credentials-upload-status-error\").style.display = \"block\"\n\t\t\t})\n\t}\n\n}(window.wpm = window.wpm || {}, jQuery))\n\n/**\n * This script is used to track the mouse position and set the transparency\n * of the button with which the pro-demo can be enabled.\n */\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n\t// Get the pmw_pro_version_demo element and save it in a variable\n\tconst elementToTrack = document.getElementById(\"pmw-pro-version-demo\")\n\n\t// Only continue if the element exists\n\tif (!elementToTrack) {\n\t\treturn\n\t}\n\n\t// This is a span element that contains two input elements.\n\t// Only continue if both are not checked.\n\tif (elementToTrack.querySelector(\"input:checked\")) {\n\t\treturn\n\t}\n\n\tconst maxWidth = window.innerWidth / 2\n\n\tconst calculateTheDistanceInPercent = (mousePosition, maxWidth) => {\n\n\t\t// Get the element position and save it in a variable\n\t\tconst elementPosition = elementToTrack.getBoundingClientRect()\n\t\tconst distance        = Math.sqrt(Math.pow(mousePosition.clientX - elementPosition.left, 2) + Math.pow(mousePosition.clientY - elementPosition.top, 2))\n\n\t\treturn distance / maxWidth  // returns the percentage\n\t}\n\n\tconst setTransparency = (percentage) => {\n\n\t\tif (percentage > 1) {\n\t\t\tpercentage = 1\n\t\t}\n\n\t\tconst maximumReduction = 80\n\t\tconst reduction        = maximumReduction * percentage\n\t\tconst transparency     = 100 - reduction\n\n\t\telementToTrack.classList.add(\"pmw-opacity-transition\")\n\t\telementToTrack.style.opacity = transparency / 100\n\t}\n\n\tdocument.addEventListener(\"mousemove\", event => {\n\t\tconst distanceInPercent = calculateTheDistanceInPercent(event, maxWidth)\n\t\tsetTransparency(distanceInPercent)\n\t})\n})\n","function wpm_hide_script_blocker_warning() {\n\tjQuery('#script-blocker-notice').hide();\n}\n\n// try to hide as soon as this script is loaded\n// might be too early in some cases, as the HTML is not rendered yet\nwpm_hide_script_blocker_warning();\n\n// if all other earlier attempts to hide did fail\n// run the function after entire DOM has been loaded\njQuery(function () {\n\twpm_hide_script_blocker_warning();\n});\n","// jQuery(() => {\n//\n// \t// Don't run if we are not one of the\n// \t// WPM main tabs\n// \tif (\"wpm\" !== pmwGetPageId()) return\n//\n// \tconsole.log(\"wpmGetPageId() = \" + wpmGetPageId())\n//\n// \t// Create a tab for each h2 element\n// \tjQuery(\"#wpm_settings_form > h2\").each(function () {\n// \t\tjQuery(\".nav-tab-wrapper\").append(\"<a href=\\\"#\\\" class=\\\"nav-tab\\\" data-section-slug=\\\"\" + jQuery(this).text() + \"\\\">\" + jQuery(this).text() + \"</a>\")\n// \t})\n//\n// \t// Create 5 random tabs\n// \t// for (let i = 0; i < 5; i++) {\n// \t// \tjQuery(\".nav-tab-wrapper\").append(\"<a href=\\\"#\\\" class=\\\"nav-tab\\\" data-section-slug=\\\"tab-\" + i + \"\\\">Tab \" + i + \"</a>\")\n// \t// }\n//\n// \t// Hide all HTML elements that are within the form\n// \tjQuery(\"#wpm_settings_form\").children().hide()\n//\n// \t// When clicking on any tab, show the corresponding section\n// \tjQuery(\".nav-tab-wrapper a\").on(\"click\", (e) => {\n//\n// \t\te.preventDefault()\n//\n// \t\t// If jQuery(e.target).data(\"section-slug\") is a key in the pmwFreemius.tabs object, redirect to /wp-admin/admin.php?page=wpm-<slug>\n// \t\tif (pmwFreemius.tabs.hasOwnProperty(jQuery(e.target).data(\"section-slug\"))) {\n// \t\t\twindow.location.href = \"/wp-admin/admin.php?page=wpm-\" + jQuery(e.target).data(\"section-slug\")\n// \t\t\treturn\n// \t\t}\n//\n// \t\t// Show clicked tab as active\n// \t\tjQuery(e.target).addClass(\"nav-tab-active\").siblings().removeClass(\"nav-tab-active\")\n//\n// \t\t// Toggle the sections visible / invisible based on clicked tab\n// \t\t// let sectionSlug = jQuery(e.target).data(\"section-slug\")\n// \t\t// jQuery(\"#wpm_settings_form\").children().hide()\n// \t\t// jQuery(\"#wpm_settings_form\").find(\"p.submit\").show()\n// \t\t// jQuery(\"#wpm_settings_form\").find(\"h2:contains('\" + sectionSlug + \"')\").nextUntil(\"h2\").show()\n// \t\t//\n// \t\t// // Also show the developer banner. It contains the class developer-banner\n// \t\t// jQuery(\"#wpm_settings_form\").find(\".developer-banner\").show()\n// \t\t//\n// \t\t// // Hide the save button of the form if the support tab was clicked and then console log it\n// \t\t// if (\"Support\" === sectionSlug) {\n// \t\t// \tjQuery(\"#wpm_settings_form\").find(\"p.submit\").hide()\n// \t\t// }\n// \t\t//\n// \t\t// // Add a URL parameter to the URL with the parameter key \"tab\" and the value of the clicked tab. It must be added to the existing URL parameters.\n// \t\t// // This is needed to make the back button work\n// \t\t// let url = new URL(window.location.href)\n// \t\t// url.searchParams.set(\"tab\", sectionSlug)\n// \t\t// window.history.pushState({}, \"\", url)\n// \t\t//\n// \t\t// // This is to reload the page on the same tab after saving the settings\n// \t\t// jQuery(\"input[name =\\\"_wp_http_referer\\\"]\").val(pmwGetAdminPath() + \"?\" + url.searchParams.toString() + \"&settings-updated=true\")\n// \t})\n//\n//\n//\n// })\n//\n// pmwGetPageId = () => {\n//\n// \tconst queryString = window.location.search\n// \tconst urlParams   = new URLSearchParams(queryString)\n//\n// \treturn urlParams.get(\"page\")\n// }\n//\n// pmwGetAdminPath = () => {\n// \tlet url = new URL(jQuery(\"#wp-admin-canonical\").attr(\"href\"))\n// \treturn url.pathname\n// }\n\njQuery(function () {\n\n\t// Don't run if we are not one of the\n\t// WPM main tabs\n\tif (\"wpm\" !== wpmGetPageId()) return\n\n\tlet sections    = []\n\tlet subsections = {}\n\n\t// Hide unnecessary elements\n\tjQuery(\".section\").closest(\"tr\").hide()\n\n\t// Collect information on sections\n\tjQuery(\".section\").each(function () {\n\t\tsections.push({\n\t\t\t\"slug\" : jQuery(this).data(\"sectionSlug\"),\n\t\t\t\"title\": jQuery(this).data(\"sectionTitle\"),\n\t\t})\n\t})\n\n\t// Collect information on subsections\n\tjQuery(\".subsection\").each(function () {\n\n\t\tsubsections[jQuery(this).data(\"sectionSlug\")] = subsections[jQuery(this).data(\"sectionSlug\")] || []\n\n\t\tsubsections[jQuery(this).data(\"sectionSlug\")].push({\n\t\t\t\"title\": jQuery(this).data(\"subsectionTitle\"),\n\t\t\t\"slug\" : jQuery(this).data(\"subsectionSlug\"),\n\t\t})\n\t})\n\n\t// Create tabs for sections\n\tsections.forEach(\n\t\tfunction (section) {\n\t\t\tjQuery(\".nav-tab-wrapper\").append(\"<a href=\\\"#\\\" class=\\\"nav-tab\\\" data-section-slug=\\\"\" + section[\"slug\"] + \"\\\">\" + section[\"title\"] + \"</a>\")\n\t\t})\n\n\t// Create tabs for each subsections\n\tjQuery(\".nav-tab-wrapper\").after(wpmCreateSubtabUlHtml(subsections))\n\n\t// Create on-click events on section tabs that toggle the views\n\tjQuery(\".nav-tab-wrapper a\").on(\"click\", function (e) {\n\n\t\te.preventDefault()\n\n\t\t// show clicked tab as active\n\t\tjQuery(this).addClass(\"nav-tab-active\").siblings().removeClass(\"nav-tab-active\")\n\n\t\t// toggle the sections visible / invisible based on clicked tab\n\n\t\tlet sectionSlug = jQuery(this).data(\"section-slug\")\n\t\twpmToggleSections(sectionSlug, sections)\n\n\t\t// if subsection exists, click on first subsection\n\t\tif (sectionSlug in subsections) {\n\t\t\tjQuery(\"ul[data-section-slug=\" + sectionSlug + \"]\").children(\":first\").trigger(\"click\")\n\t\t}\n\t})\n\n\t// Create on-click events on subsection tabs that toggle the views\n\tjQuery(\".pmw-subnav-li\").on(\"click\", function (e) {\n\n\t\te.preventDefault()\n\n\t\t// jQuery(this).hide();\n\t\tjQuery(this)\n\t\t\t.addClass(\"pmw-subnav-li-active\").removeClass(\"pmw-subnav-li-inactive\")\n\t\t\t.siblings()\n\t\t\t.addClass(\"pmw-subnav-li-inactive\").removeClass(\"pmw-subnav-li-active\")\n\n\t\twpmToggleSubsection(jQuery(this).parent().data(\"section-slug\"), jQuery(this).data(\"subsection-slug\"))\n\t})\n\n\t/**\n\t * If someone accesses a plugin tab by deep link, open the right tab\n\t * or fallback to default (first tab)\n\t *\n\t * If deeplink is being opened,\n\t * open the according section and subsection\n\t */\n\tif (wpmGetSectionParams()) {\n\n\t\tlet sectionParams = wpmGetSectionParams()\n\n\t\tjQuery(\"a[data-section-slug=\" + sectionParams[\"section\"] + \"]\").trigger(\"click\")\n\n\t\tif (sectionParams[\"subsection\"] !== false) {\n\t\t\tjQuery(\"ul[data-section-slug=\" + sectionParams[\"section\"] + \"]\").children(\"[data-subsection-slug=\" + sectionParams[\"subsection\"] + \"]\").trigger(\"click\")\n\t\t}\n\t} else {\n\t\tjQuery(\"a[data-section-slug=\" + sections[0][\"slug\"] + \"]\").trigger(\"click\")\n\t}\n})\n\n// Creates the html with all subsection elements\nwpmCreateSubtabUlHtml = (subsections) => {\n\n\tlet subsectionsKeys = Object.keys(subsections)\n\n\tlet html = \"\"\n\n\tsubsectionsKeys.forEach(function (subsectionKey) {\n\t\thtml += \"<ul class=\\\"pmw-subnav-tabs\\\" data-section-slug=\\\"\" + subsectionKey + \"\\\">\"\n\n\t\tlet subtabs = subsections[subsectionKey]\n\n\t\tsubtabs.forEach(function (subtab) {\n\t\t\thtml += \"<li class=\\\"pmw-subnav-li pmw-subnav-li-inactive\\\" style=\\\"cursor: pointer;\\\" data-subsection-slug=\\\"\" + subtab[\"slug\"] + \"\\\">\" + subtab[\"title\"] + \"</li>\"\n\t\t})\n\n\t\thtml += \"</ul>\"\n\t})\n\n\treturn html\n}\n\n/**\n * If section (and subsection) URL parameters are set,\n * return them, otherwise return false\n */\nwpmGetSectionParams = () => {\n\n\tconst queryString = window.location.search\n\tconst urlParams   = new URLSearchParams(queryString)\n\n\tif (urlParams.get(\"section\")) {\n\t\treturn {\n\t\t\t\"section\"   : urlParams.get(\"section\"),\n\t\t\t\"subsection\": urlParams.get(\"subsection\"),\n\t\t}\n\t} else {\n\t\treturn false\n\t}\n}\n\n// Toggles the sections\nwpmToggleSections = (sectionSlug, sections) => {\n\n\tjQuery(\"#wpm_settings_form > h2\").nextUntil(\".submit\").andSelf().hide()\n\tjQuery(\".pmw-subnav-tabs\").hide()\n\tjQuery(\".pmw-subnav-tabs[data-section-slug=\" + sectionSlug + \"]\").show()\n\n\tlet sectionPos = sections.findIndex((arrayElement) => arrayElement[\"slug\"] === sectionSlug)\n\n\tjQuery(\"div[data-section-slug=\" + sectionSlug + \"]\").closest(\"table\").prevAll(\"h2:first\").next().nextUntil(\"h2, .submit\").andSelf().show()\n\n\t// set the URL with the active tab parameter\n\twpmSetUrl(sections[sectionPos][\"slug\"])\n}\n\nconst wpmToggleSubsection = (sectionSlug, subsectionSlug) => {\n\n\tjQuery(\"#wpm_settings_form > h2\").nextUntil(\".submit\").andSelf().hide()\n\tjQuery(\"[data-section-slug=\" + sectionSlug + \"][data-subsection-slug=\" + subsectionSlug + \"]\").closest(\"tr\").siblings().andSelf().hide()\n\n\tjQuery(\"[data-section-slug=\" + sectionSlug + \"][data-subsection-slug=\" + subsectionSlug + \"]\").closest(\"table\").show()\n\tjQuery(\"[data-section-slug=\" + sectionSlug + \"][data-subsection-slug=\" + subsectionSlug + \"]\").closest(\"tr\").nextUntil(jQuery(\"[data-section-slug=\" + sectionSlug + \"][data-subsection-slug]\").closest(\"tr\")).show()\n\n\t// Set the URL with the active tab parameter\n\twpmSetUrl(sectionSlug, subsectionSlug)\n}\n\n// Sets the new URL parameters\nwpmSetUrl = (sectionSlug, subsectionSlug = \"\") => {\n\n\tconst queryString = window.location.search\n\tconst urlParams   = new URLSearchParams(queryString)\n\n\turlParams.delete(\"section\")\n\turlParams.delete(\"subsection\")\n\n\tlet newParams = \"section=\" + sectionSlug\n\tnewParams += subsectionSlug ? \"&subsection=\" + subsectionSlug : \"\"\n\n\thistory.pushState(\"\", \"wpm\" + sectionSlug, document.location.pathname + \"?page=wpm&\" + newParams)\n\n\t// Make WP remember which was the selected tab on a save and return to the same tab after saving\n\tjQuery(\"input[name =\\\"_wp_http_referer\\\"]\").val(wpmGetAdminPath() + \"?page=wpm&\" + newParams + \"&settings-updated=true\")\n}\n\nwpmGetAdminPath = () => {\n\tlet url = new URL(jQuery(\"#wp-admin-canonical\").attr(\"href\"))\n\treturn url.pathname\n}\n\nwpmGetPageId = () => {\n\n\tconst queryString = window.location.search\n\tconst urlParams   = new URLSearchParams(queryString)\n\n\treturn urlParams.get(\"page\")\n}\n\n// On click of an element that contains a data-section-slug with any value show an alert box with the text hello\njQuery(document).on(\"click\", \"[data-section-slug]\", function () {\n\n\tconst infoTabs = [\n\t\t\"opportunities\",\n\t\t\"diagnostics\",\n\t\t\"support\",\n\t]\n\n\t// If the data-section-slug value is one of infoTabs, hide the save button, otherwise show it\n\tif (infoTabs.includes(jQuery(this).data(\"section-slug\"))) {\n\t\t// Hide the element with class submit\n\t\tjQuery(\".submit\").hide()\n\t} else {\n\t\t// Show the element with class submit\n\t\tjQuery(\".submit\").show()\n\t}\n})\n\n\n// On click of an element that contains the classes pmw, opportunity and dismiss show an alert box with the text hello\njQuery(document).on(\"click\", \".pmw.opportunity-dismiss\", function () {\n\n\t// Move the parent element that contains the class pmw and opportunity and card and move it to the div with id pmw-dismissed-opportunities\n\tjQuery(this).closest(\".pmw.opportunity-card\").appendTo(\"#pmw-dismissed-opportunities\")\n\t// Remove the element with the class opportunity-dismiss\n\tjQuery(this).closest(\".opportunity-dismiss\").remove()\n})\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","/**\n * Combine all admin scripts\n * (which only run on the wpm pages)\n */\n\n// require(\"./environment-check\")\nrequire(\"./helpers\")\nrequire(\"./script-blocker-warning\")\nrequire(\"./tabs\")\n\n// #if process.env.TIER === 'premium'\n// // require(\"./helpers_premium\")\n// #endif\n\n// console.log('Pixel Manager for WooCommerce admin script')\n"],"names":["jQuery","on","select","document","execCommand","trigger","getElementById","addEventListener","wpm","readSettingsFile","readGa4DataApiCredentials","saveGa4DataApiCredentialsToDb","$","undefined","saveSettingsToDisk","version","text","value","replace","blob","Blob","type","anchor","createElement","download","getCurrentDateForFileName","href","window","URL","createObjectURL","target","style","display","body","appendChild","click","removeChild","date","Date","getFullYear","getMonth","slice","getDate","e","file","files","reader","FileReader","onload","contents","JSON","parse","result","saveImportedSettingsToDb","readAsText","settings","fetch","pmwAdminApi","root","method","credentials","headers","nonce","stringify","then","response","json","async","message","success","console","log","Promise","resolve","setTimeout","location","reload","catch","error","deleteGa4DataApiCredentials","elementToTrack","querySelector","maxWidth","innerWidth","event","distanceInPercent","calculateTheDistanceInPercent","mousePosition","elementPosition","getBoundingClientRect","Math","sqrt","pow","clientX","left","clientY","top","percentage","transparency","classList","add","opacity","setTransparency","wpm_hide_script_blocker_warning","hide","wpmGetPageId","sections","subsections","closest","each","push","this","data","forEach","section","append","after","wpmCreateSubtabUlHtml","preventDefault","addClass","siblings","removeClass","sectionSlug","wpmToggleSections","children","wpmToggleSubsection","parent","wpmGetSectionParams","sectionParams","subsectionsKeys","Object","keys","html","subsectionKey","subtab","queryString","search","urlParams","URLSearchParams","get","nextUntil","andSelf","show","sectionPos","findIndex","arrayElement","prevAll","next","wpmSetUrl","subsectionSlug","arguments","length","delete","newParams","history","pushState","pathname","val","wpmGetAdminPath","attr","includes","appendTo","remove","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","require"],"sourceRoot":""}