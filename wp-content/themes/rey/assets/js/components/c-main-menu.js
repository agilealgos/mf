!function(e){"use strict";var t=function(t){var n=this,i=this;return this.debug=!1,this.submenuSelector=".sub-menu",this.init=function(){this.MMEL=t,this.$mainMenu=e(t),this.MMEL&&(this.$mobileBtn=this.$mainMenu.prevAll(".rey-mainNavigation-mobileBtn"),this.$mobileNav=this.$mainMenu.nextAll(".rey-mainNavigation.rey-mainNavigation--mobile"),this.id=this.MMEL.getAttribute("data-id"),this.tapToLink=this.MMEL.closest(".elementor-element.--tap-link"),this.delays=rey.params.theme_js_params.menu_delays,rey.vars.is_edit_mode&&(this.delays=!1),"click"===rey.params.theme_js_params.menu_items_open_event&&this.MMEL.classList.add("--onclick"),this.overlayData(),this.createSubmenuIndicators(),this.createBadges(),this.makeAcc(),this.activeFollowers(),this.lastSubmenuDirection(),this.menuItemsDelays(),this.events())},this.createBadges=function(){e([".menu-item.--badge-green",".menu-item.--badge-red",".menu-item.--badge-orange",".menu-item.--badge-blue",".menu-item.--badge-accent"].join(","),this.$mainMenu).each((function(t,n){var i=e(n).children("a");e('<i class="--menu-badge"></i>').text(i.attr("title")).prependTo(i.children("span"))}))},this.overlayData=function(){if(this.overlayType=rey.params.theme_js_params.menu_hover_overlay,this.overlaySupported="show"===this.overlayType||!0===this.overlayType,this.mobileMenuOverlaySupported="hide"!==rey.params.theme_js_params.menu_mobile_overlay,this.MMEL.closest(".rey-stickyContent"))return this.overlaySupported="hide"!==this.overlayType,void(this.overlayTarget="site");if(rey.vars.is_desktop&&"show_header_top"===this.overlayType){if(rey.vars.elementor_edit_mode&&!document.querySelector(".rey-overlay--header-top")){var e=document.createElement("div");e.classList.add("rey-overlay","rey-overlay--header-top");var t=document.querySelector(".rey-pbTemplate--gs-header .elementor.elementor-edit-area-active > .elementor-section-wrap");t&&t.append(e)}this.overlayTarget="header-top",this.overlaySupported=!0}else this.overlayTarget=rey.elements.header&&rey.dom.contains(rey.elements.header,this.MMEL)?"header":"site"},this.createSubmenuIndicators=function(){e.each(e(".menu-item-has-children",this.$mainMenu),(function(t,i){var a=e(i);if(!e("> .--submenu-indicator",i).length&&!a.parents(".--is-mega").length){var s=i,r=n.$mainMenu.attr("data-sm-indicator"),o=a.hasClass("depth--0");o||(s=e(" > a",i)),e('<i class="--submenu-indicator --submenu-indicator-'+r+'"></i>').appendTo(s),o&&n.$mainMenu.children("ul").hasClass("--submenu-top")&&e('<i class="__submenu-top-indicator"></i>').appendTo(s)}})),e.each(e(".menu-item-has-children > a > span",this.$mobileNav),(function(t,i){e('<i class="--submenu-indicator --submenu-indicator-'+n.$mainMenu.attr("data-sm-indicator")+'"></i>').prependTo(i)}))},this.lastSubmenuDirection=function(e){var t=e||this.MMEL.querySelector(".rey-mainMenu.rey-mainMenu--desktop .menu-item-has-children.depth--0.--is-regular:last-child > .sub-menu");if(t){t.classList.remove("--reached-end");var n=t.getBoundingClientRect(),i=n.left;rey.vars.is_rtl&&(i=document.documentElement.clientWidth-(i+n.width)),i+n.width>document.documentElement.clientWidth&&t.classList.add("--reached-end")}},this.menuItemsDelays=function(){e(".rey-mainMenu--desktop .sub-menu",this.$mainMenu).each((function(t,n){e("> li > a > span",n).each((function(t,n){e(n).css({"transition-delay":.03*t+"s"})}))}))},this.events=function(){if("hover"===rey.params.theme_js_params.menu_items_open_event){var t,a,s,r,o=parseFloat(rey.params.theme_js_params.menu_items_hover_timer),l=parseFloat(rey.params.theme_js_params.menu_items_leave_timer);this.delays||(o=0,l=0);var m,u=e(".rey-mainMenu.rey-mainMenu--desktop > .menu-item-has-children",this.$mainMenu),c=function(e){(e=e||u).removeClass("--hover").attr("aria-expanded","false")};u.on("mouseenter",(function(i){var l=e(this);clearTimeout(a),clearTimeout(s),clearTimeout(r),t=setTimeout((function(){c(l.siblings()),l.addClass("--hover").attr("aria-expanded","true"),l.hasClass("--overlay-delayed")||n.openHeaderOverlay(),rey.hooks.doAction("menu_item/open",i,n)}),o)})).on("mouseleave",(function(n){var i=e(this);clearTimeout(t),a=setTimeout((function(){c(i)}),l)})),e(".rey-mainMenu.rey-mainMenu--desktop > .menu-item:not(.menu-item-has-children)",this.$mainMenu).on("mouseenter",(function(e){r=setTimeout((function(){c(),n.closeHeaderOverlay()}),l)})),e(".rey-mainMenu.rey-mainMenu--desktop",this.$mainMenu).on("mouseenter",(function(e){n.log(":: MENU ENTER"),rey.frontend.panels.closeActive(),rey.frontend.scroll.enable(),n.$mainMenu.addClass("--active"),clearTimeout(m)})).on("mouseleave",(function(e){n.log(":: MENU LEAVE"),m=setTimeout((function(){n.log(":: MENU LEAVE (menuActiveTimer)"),n.$mainMenu.removeClass("--active"),n.closeHeaderOverlay()}),parseFloat(rey.params.theme_js_params.menu_hover_timer)),s=setTimeout((function(){n.log(":: MENU LEAVE (menuLeaveTimer)"),c(),n.closeHeaderOverlay()}),l)}))}else if("click"===rey.params.theme_js_params.menu_items_open_event){var h=function(){rey.frontend.panels.reset(),e(".rey-mainMenu.rey-mainMenu--desktop > .menu-item-has-children",n.$mainMenu).attr("aria-expanded","false").removeClass("--hover"),n.$mainMenu.removeClass("--active")};e(".rey-mainMenu.rey-mainMenu--desktop > .menu-item-has-children > a",this.$mainMenu).on("click",(function(t){t.preventDefault();var i=e(this).parent();if(i.hasClass("--hover"))return h(),void n.closeHeaderOverlay();rey.frontend.panels.init(h.bind(n)),n.openHeaderOverlay(!0),n.$mainMenu.addClass("--active"),i.addClass("--hover").attr("aria-expanded","true"),rey.hooks.doAction("menu_item/open",t,n)}))}e(".rey-mainMenu.rey-mainMenu--desktop > .menu-item .menu-item-has-children",this.$mainMenu).on("mouseenter",(function(t){e(t.currentTarget).addClass("--hover")})).on("mouseleave",(function(t){e(t.currentTarget).removeClass("--hover")})),this.$mobileBtn.on("click touchstart",(function(t){e(this).hasClass("--prevent-main-mobile-nav")||rey.vars.is_global_section_mode||(t.preventDefault(),rey.frontend.panels.init(n.closeMobileMenu.bind(n)),i.mobileMenuOverlaySupported&&rey.frontend.overlay.open(n.overlayTarget),rey.hooks.applyFilters("rey/main_menu/mobile/disable_scroll",!0,n.$mobileBtn)&&rey.frontend.scroll.disable(),n.$mobileNav.addClass("--is-active"),rey.elements.body.classList.add("--mobileNav--active"))})),e(".rey-mobileMenu-close",this.$mobileNav).on("click",(function(e){rey.vars.is_global_section_mode||(e.preventDefault(),n.closeMobileMenu(!0))})),n.mobileEvent=rey.vars.is_touch_device()?"touchstart":"click",n.mobileEventParams="touchstart"===n.mobileEvent?{passive:!0}:{},n.mobileSelectors=rey.hooks.applyFilters("headermenu/mobile/selectors",[n.submenuSelector]),e(".rey-mainMenu-mobile .menu-item-has-children > a",this.$mobileNav).each((function(e,t){if(!rey.vars.is_global_section_mode){var i=!1;n.mobileSelectors.forEach((e=>{var n=rey.dom.getSiblings(t,e);n.length&&(i=n[0])})),i&&t.addEventListener(n.mobileEvent,(function(e){if(e.preventDefault(),rey.hooks.doAction("headermenu/mobile/click",this,n),"function"==typeof document.documentElement.scrollIntoView&&e.currentTarget.parentElement.scrollIntoView(),!n.tapToLink||e.target.classList.contains("--submenu-indicator"))return e.currentTarget.classList.toggle("--open"),void rey.animation.slideToggle(i);n.tapToLink&&(window.location.href=e.currentTarget.getAttribute("href"))}))}})),e("ul.rey-mainMenu-mobile",this.$mobileNav).each((function(t,n){var i=e(this),a=function(t,n){e(n).css({"transition-delay":.03*t+.3+"s"})};i.closest(".--submenu-display-expanded").length?e("> li > a > span, .sub-menu > li > a > span",i).each(a):(e("> li > a > span",i).each(a),e(".sub-menu > li > a > span",i).each(a))})),e(".rey-mainMenu.rey-mainMenu--desktop .menu-item-has-children.depth--0.--is-regular .menu-item-has-children",this.$mainMenu).on("mouseenter",(function(t){var n=e(t.currentTarget).children(".sub-menu");n.length&&i.lastSubmenuDirection(n[0])})),e(".menu-item > a[href*='#']:not([href='#'])",this.$mobileNav).on("click",(function(t){if(!rey.vars.is_global_section_mode){if(n.tapToLink)if(e(t.target).is("i.--submenu-indicator"))return void n.closeMobileMenu(!0);var i=e(this).attr("href");i.substring(0,i.indexOf("#"))===window.location.origin+window.location.pathname&&t.preventDefault(),n.closeMobileMenu(!0)}})),e(document).on("keyup",(function(t){27==t.keyCode&&e(".rey-mainMenu.rey-mainMenu--desktop > .menu-item-has-children",n.$mainMenu).removeClass("--hover")}))},this.closeHeaderOverlay=function(){rey.frontend.overlay.close()},this.openHeaderOverlay=function(e){if(this.overlaySupported){var t={click:e||!1,id:"menu"};rey.frontend.overlay.open(n.overlayTarget,t)}},this.makeAcc=function(){if(rey.hooks.applyFilters("rey/main_menu/a11y",!0)){this.$popupItems=e(".menu-item-has-children.depth--0, .menu-item-has-children.--is-regular .menu-item-has-children",this.$mainMenu),this.$popupItems.attr({"aria-haspopup":"true","aria-expanded":"false"}),e(".rey-mega-gs a, .sub-menu a",this.$popupItems).attr("tabindex","-1"),e(document).on("keydown",(function(t){if(9!==t.keyCode){if(-1!==[13,32].indexOf(t.keyCode)){var a=e('.menu-item[aria-haspopup="true"] > a:focus',n.$mainMenu).parent("li");a.length&&(t.preventDefault(),a.each((function(t,n){e(n).attr("aria-expanded","true").trigger("mouseenter"),e(".rey-mega-gs a, > .sub-menu > li > a",n).removeAttr("tabindex")})))}27==t.keyCode&&i()}}));var t=!1;e(".depth--0 > a",this.$mainMenu).on("mousedown",(function(){t=!0})).on("focusin",(function(){t||i(),t=!1}));var i=function(){var t=e('.menu-item[aria-haspopup="true"][aria-expanded="true"]',n.$mainMenu);t.length&&(t.attr("aria-expanded","false").trigger("mouseleave"),e(".rey-mega-gs a, .sub-menu a",t).attr("tabindex","-1"))}}},this.closeMobileMenu=function(e){rey.frontend.panels.reset(),i.mobileMenuOverlaySupported&&(rey.vars.is_desktop&&!e||rey.frontend.overlay.close()),this.$mobileNav.removeClass("--is-active"),rey.frontend.scroll.enable(),rey.elements.body.classList.remove("--mobileNav--active")},this.activeFollowers=function(){new function(){var e=this;this.points={},this.targets={},this.menuItems={},this.anchors={},this.nonElementor={},this.firstHash=null,this.topThreshold=0,this.activeClass="current-menu-item",this.init=function(){this.items=document.querySelectorAll('.rey-mainNavigation .menu-item a[href*="#"]:not([href="#"])'),this.items.length&&(this.supportsTopThreshold=rey.elements.header&&rey.elements.header.classList.contains("header-pos--fixed"),this.getInitialData(),this.handleScroll(),this.events())},this.events=function(){window.addEventListener("resize",rey.util.debounce((function(){e.refreshData()}),500)),window.addEventListener("scroll",rey.util.debounce((function(){e.handleScroll()}),50)),Object.keys(this.anchors).forEach((t=>{e.anchors[t].addEventListener("click",(function(n){var i=e.points[t]-e.topThreshold+1;e.nonElementor[t]&&(n.preventDefault(),window.scrollTo({top:i,behavior:"smooth"})),elementorFrontend.hooks?elementorFrontend.hooks.addFilter("frontend/handlers/menu_anchor/scroll_top_distance",(function(e){return i})):window.scrollTo({top:i,behavior:"smooth"})}))}))},this.getInitialData=function(){this.supportsTopThreshold&&(this.topThreshold=rey.headerHeight),this.items.forEach((t=>{var n=t.getAttribute("href").split("#"),i=n[n.length-1],a=document.querySelector(`.elementor-element[id="${i}"], .elementor-menu-anchor[id="${i}"], .rey-siteWrapper[id="${i}"]`);a&&(e.anchors[i]=t,e.menuItems[i]=t.parentElement,e.targets[i]=a,e.points[i]=rey.dom.offset(a).top,e.nonElementor[i]=a.classList.contains("rey-siteWrapper"),null===e.firstHash&&(e.firstHash=i),e.menuItems[i].classList.remove(e.activeClass))}))},this.refreshData=function(){this.supportsTopThreshold&&(this.topThreshold=rey.headerHeight),Object.keys(e.targets).forEach((t=>{e.points[t]=rey.dom.offset(e.targets[t]).top}))},this.handleScroll=function(){var t=window.pageYOffset||document.documentElement.scrollTop;Object.keys(e.points).forEach((n=>{var i=e.menuItems[n];i.classList.remove(e.activeClass),t+e.topThreshold>e.points[n]?e.activeMenuItem=i:null!==e.firstHash&&n===e.firstHash&&(e.activeMenuItem=null)})),e.activeMenuItem&&e.activeMenuItem.classList.add(e.activeClass)},this.init()}},this.log=function(e){this.debug&&rey.log(e)},this.init()};rey.components.mainMenu=function(e){(e=e||document).querySelectorAll(".rey-mainNavigation.rey-mainNavigation--desktop").forEach((e=>{new t(e)}))},e(document).ready((function(){rey.components.mainMenu()}))}(jQuery);